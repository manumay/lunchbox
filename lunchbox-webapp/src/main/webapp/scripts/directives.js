var directivesModule = angular.module('lunchbox-directives', []);directivesModule.directive('barchart', function() {    return {        restrict: 'E',        link: function(scope, elem, attrs) {                        var chart = null;            var opts  = {           		series: {           			bars: {           				show: true,           				barWidth: 0.6,           				align: "center"           			}           		},           		xaxis: {            		mode: "categories",            		tickLength: 0            	}            };                               scope.$watch(attrs.ngModel, function(v) {                if (!chart) {                    chart = $.plot(elem, v , opts);                    elem.show();                } else {                	chart.setData(v);                    chart.setupGrid();                    chart.draw();                }            });        }    };});directivesModule.directive('piechart', function() {    return {        restrict: 'E',        link: function(scope, elem, attrs) {        	        	function labelFormatter(label, series) {        		return "<div style='font-size:8pt; text-align:center; padding:2px; color:white;'>" + label + "<br/>" + Math.round(series.percent) + "%</div>";        	}                        var chart = null;            var opts  = {            	series: {            		pie: {            			show: true/*,            			radius: 1,            			label: {            				show: true,            				radius: 2/3,            				formatter: labelFormatter,            				background: {            					opacity: 0.8            				}            			}*/            		}            	}/*,            	legend: {            		show: false            	}*/            };                               scope.$watch(attrs.ngModel, function(v) {                if (!chart) {                    chart = $.plot(elem, v , opts);                    elem.show();                } else {                	chart.setData(v);                    chart.setupGrid();                    chart.draw();                }            });        }    };});